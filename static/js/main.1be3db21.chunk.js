(this["webpackJsonpmy-app"]=this["webpackJsonpmy-app"]||[]).push([[0],{100:function(e,t,a){},140:function(e,t,a){e.exports=a(194)},158:function(e,t,a){},162:function(e,t,a){},194:function(e,t,a){"use strict";a.r(t);var n=a(0),o=a.n(n),r=a(10),s=a.n(r),c=a(85),l=a(49),i=a(24),u=a(25),m=a(28),p=a(26),d=a(84),g=a.n(d),h=a(106),f=a(124),y=(a(157),a(112)),v=a(57),b=a.n(v),E=(a(158),a(99),a(100),a(227)),k=a(229),w=a(231),S=a(232),C=a(242),O=a(230),j=a(74),D=a(117),N=a.n(D),I=a(118),x=a.n(I),L=a(116),F=a.n(L),B=function(e){Object(m.a)(a,e);var t=Object(p.a)(a);function a(){var e;Object(i.a)(this,a);for(var n=arguments.length,o=new Array(n),r=0;r<n;r++)o[r]=arguments[r];return(e=t.call.apply(t,[this].concat(o))).clickItem=function(){e.props.onClickItem(e.props.item)},e}return Object(u.a)(a,[{key:"render",value:function(){return o.a.createElement("div",null,o.a.createElement(E.a,{className:"root"},o.a.createElement(k.a,{className:"item",onClick:this.clickItem,avatar:o.a.createElement(C.a,{"aria-label":"recipe",className:"avatar"},this.props.item.type.charAt(0).toUpperCase()),action:o.a.createElement(O.a,{"aria-label":"settings"},o.a.createElement(F.a,null)),title:this.props.item.display_name,subheader:this.props.item.type}),o.a.createElement(w.a,null,o.a.createElement(j.a,{variant:"body2",color:"textSecondary",component:"p"},this.props.item.display_name)),o.a.createElement(S.a,{disableSpacing:!0},o.a.createElement(O.a,{"aria-label":"add to favorites"},o.a.createElement(N.a,null)),o.a.createElement(O.a,{"aria-label":"share"},o.a.createElement(x.a,null)))))}}]),a}(o.a.Component),Q=a(243),A=function(e){Object(m.a)(a,e);var t=Object(p.a)(a);function a(){var e;Object(i.a)(this,a);for(var n=arguments.length,o=new Array(n),r=0;r<n;r++)o[r]=arguments[r];return(e=t.call.apply(t,[this].concat(o))).clickItem=function(t){e.props.onClickItem(t)},e}return Object(u.a)(a,[{key:"componentDidUpdate",value:function(){}},{key:"render",value:function(){var e,t=this;return o.a.createElement(Q.a,{className:"listBox"},null===(e=this.props.result)||void 0===e?void 0:e.map((function(e,a){return o.a.createElement(B,{key:a,item:e,onClickItem:t.clickItem})})))}}]),a}(o.a.Component),M=a(119),P=a.n(M),T=a(71),W=a.n(T),G=a(233),z=(a(162),function(e){Object(m.a)(a,e);var t=Object(p.a)(a);function a(e){var n;return Object(i.a)(this,a),(n=t.call(this,e)).onChangeSearch=function(e){n.setState({newSearch:"".concat(e.target.value)})},n.onKeyPressSearch=function(e){"Enter"===e.key&&(n.getData(),n.getMapQuestData())},n.onClick=function(){n.getData(),n.getMapQuestData()},n.state={resultString:"Pusto",result:[],mapQuestResult:{results:[{locations:[]}]},onGetData:function(){},onGetMapQuestData:function(){},searchOnProgres:!1,onClickItem:function(){}},n}return Object(u.a)(a,[{key:"componentDidUpdate",value:function(e,t){t.result!==this.state.result&&this.props.onGetData(this.state.result),t.mapQuestResult!==this.state.mapQuestResult&&this.props.onGetMapQuestData(this.state.mapQuestResult)}},{key:"onClickItemChanged",value:function(e){console.log("test",e)}},{key:"render",value:function(){return o.a.createElement("div",null,o.a.createElement("div",{className:"mainSerachBox"},this.state.searchOnProgres?o.a.createElement(G.a,null):"",o.a.createElement("div",{className:"searchBox"},o.a.createElement(P.a,{className:"searchBoxInput",onChange:this.onChangeSearch,value:this.props.newSearch,onKeyPress:this.onKeyPressSearch,placeholder:"Wyszukaj",inputProps:{"aria-label":"search"}}),o.a.createElement(O.a,{type:"submit",onClick:this.onClick,className:"iconButton","aria-label":"search"},o.a.createElement(W.a,null))),o.a.createElement(A,{result:this.state.result,resultMapQuest:this.state.mapQuestResult,onClickItem:this.props.onClickItem})))}},{key:"getData",value:function(){var e=this;this.setState({searchOnProgres:!0});var t="https://nominatim.openstreetmap.org/?addressdetails=1&q=".concat(this.state.newSearch,"&format=json&limit=10");fetch(t).then((function(e){return e.json()})).then((function(t){e.setState({resultString:JSON.stringify(t)}),e.setState({result:t}),e.setState({searchOnProgres:!1})})).catch((function(t){console.error("Error:",t),e.setState({resultString:JSON.stringify([])}),e.setState({result:[]}),e.setState({searchOnProgres:!1})}))}},{key:"getMapQuestData",value:function(){}}]),a}(o.a.Component)),J=a(23),R=a(239),U=a(55),q=(a(192),U.a.initializeApp({apiKey:"AIzaSyBPnakkMCkHQR26zXRstzrBIorHAWo5H3w",authDomain:"geostarapp.firebaseapp.com",databaseURL:"https://geostarapp.firebaseio.com",projectId:"geostarapp",storageBucket:"geostarapp.appspot.com",messagingSenderId:"593481844972",appId:"1:593481844972:web:3d55715029e07c806efdc9",measurementId:"G-MEWLDR8DWF"})),H=a(122),K=a.n(H),Z=a(121),_=a.n(Z),V=a(123),X=a.n(V),Y=a(238),$=a(236),ee=a(240),te=a(237),ae=a(120),ne=a.n(ae),oe=a(234),re=a(235),se=Object(oe.a)((function(e){return{paper:{marginTop:e.spacing(8),display:"flex",flexDirection:"column",alignItems:"center"},avatar:{margin:e.spacing(1),backgroundColor:e.palette.secondary.main},form:{width:"100%",marginTop:e.spacing(3)},submit:{margin:e.spacing(3,0,2)}}}));function ce(e){var t=se(),a=Object(n.useState)(""),r=Object(J.a)(a,2),s=r[0],c=r[1],l=Object(n.useState)(""),i=Object(J.a)(l,2),u=i[0],m=i[1],p=Object(n.useState)(!1),d=Object(J.a)(p,2),g=d[0],h=d[1];return o.a.createElement(re.a,{component:"main",maxWidth:"xs"},g?o.a.createElement(G.a,null):"",o.a.createElement($.a,null),o.a.createElement("div",{className:t.paper},o.a.createElement(C.a,{className:t.avatar},o.a.createElement(ne.a,null)),o.a.createElement(j.a,{component:"h1",variant:"h5"},e.label),o.a.createElement("form",{className:t.form,noValidate:!0},o.a.createElement(te.a,{container:!0,spacing:2},o.a.createElement(te.a,{item:!0,xs:12},o.a.createElement(ee.a,{variant:"outlined",required:!0,fullWidth:!0,id:"email",label:"Email Address",name:"email",autoComplete:"email",value:s,onChange:function(e){return c(e.target.value)}})),o.a.createElement(te.a,{item:!0,xs:12},o.a.createElement(ee.a,{variant:"outlined",required:!0,fullWidth:!0,name:"password",label:"Password",type:"password",id:"password",autoComplete:"current-password",value:u,onChange:function(e){return m(e.target.value)}}))),o.a.createElement(Y.a,{fullWidth:!0,variant:"contained",color:"primary",className:t.submit,onClick:function(){h(!0),e.login(s,u)}},"Sign Up"),e.infoMessage)))}function le(e){var t=o.a.useState(!1),a=Object(J.a)(t,2),n=a[0],r=a[1],s=o.a.useState(!1),c=Object(J.a)(s,2),l=c[0],i=c[1],u=o.a.useState(!1),m=Object(J.a)(u,2),p=m[0],d=m[1],g=o.a.useState({}),h=Object(J.a)(g,2),f=(h[0],h[1]),y=o.a.useState(""),v=Object(J.a)(y,2),b=v[0],E=v[1],k=o.a.useState(""),w=Object(J.a)(k,2),S=w[0],C=w[1];return o.a.createElement("div",null,p?o.a.createElement("div",{className:"iconButtonStyle"},o.a.createElement(O.a,{className:"logout",title:"Log out",type:"submit",onClick:function(){console.log("Wylogowano"),U.a.auth().signOut().then((function(){d(!1),e.userLoged(!1)})).catch((function(e){console.log("singOut",e)}))},"aria-label":"search"},o.a.createElement(_.a,null))):o.a.createElement("div",{className:"iconButtonStyle"}," ",o.a.createElement(O.a,{className:"login",title:"Login",type:"submit",onClick:function(){r(!0)},"aria-label":"search"},o.a.createElement(K.a,null))),p?"":o.a.createElement("div",{className:"iconButtonStyle"},o.a.createElement(O.a,{className:"create",title:"Create account",type:"submit",onClick:function(){console.log("nowe konto"),i(!0)},"aria-label":"search"},o.a.createElement(X.a,null))),o.a.createElement(R.a,{onClose:function(){r(!1)},open:n},o.a.createElement(ce,{infoMessage:S,label:"Login",login:function(t,a){q.auth().signInWithEmailAndPassword(t,a).then((function(t){console.log(t,t.user,t.credential),f(t),r(!1),d(!0),e.userLoged(!0)})).catch((function(e){C(e.message)}))}})),o.a.createElement(R.a,{onClose:function(){i(!1)},open:l},o.a.createElement(ce,{infoMessage:b,label:"Sing up",login:function(t,a){console.log("Tworze konto"),U.a.auth().createUserWithEmailAndPassword(t,a).then((function(t){console.log("Account created",t),i(!1),e.userLoged(!0),d(!0)})).catch((function(e){console.log("Create account",e);e.code;E(e.message)}))}})))}var ie=a(241);b.a.accessToken="pk.eyJ1IjoidGxvbWllaiIsImEiOiJja2cyNm4wY2YwZ2ZkMnlvNWFjdTB3ZWV2In0.Bo-nyJTaJwxOpgDFwIH_9g";var ue=function(e){Object(m.a)(a,e);var t=Object(p.a)(a);function a(e){var n;return Object(i.a)(this,a),(n=t.call(this,e)).mapContainer=void 0,n.map=void 0,n.marker=void 0,n.draw=void 0,n.updateAndNotify=function(){console.log("LOGED 222")},n.drawLog=function(){console.log("draw",n.draw.getAll())},n.getDataFromMapQuest=function(e){console.log("getDataFromMapQuest =>",e);var t=e.results[0].locations.map((function(e){return{type:"Feature",geometry:{type:"Point",coordinates:[parseFloat(e.latLng.lng),parseFloat(e.latLng.lat)]}}})),a={type:"FeatureCollection",features:[]};a.features=t,n.map.getSource("mapQuestLayer")||(n.map.addSource("mapQuestLayer",{type:"geojson",data:{type:"FeatureCollection",features:[]}}),n.map.addLayer({id:"mapQuestLayerId",source:"mapQuestLayer",type:"circle",paint:{"circle-radius":10,"circle-color":"blue"}})),n.map.getSource("mapQuestLayer").setData(a)},n.getDataFromSearch=function(){var e=Object(h.a)(g.a.mark((function e(t){var a,o,r;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("getDataFromSearch =>",t),a=t.map((function(e){return{type:"Feature",geometry:{type:"Point",coordinates:[parseFloat(e.lon),parseFloat(e.lat)]}}})),console.log("GEoJson",a),n.setState({points:a}),(o={type:"FeatureCollection",features:[]}).features=a,n.map.getSource("point")||(n.map.addSource("point",{type:"geojson",data:{type:"FeatureCollection",features:[]}}),n.map.addLayer({id:"points",source:"point",type:"circle",paint:{"circle-radius":20,"circle-color":"red"}})),n.map.getSource("point").setData(o),r=n.buildBbox(o),e.next=11,n.map.fitBounds([[r[0],r[1]],[r[2],r[3]]]);case 11:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),n.rotateCamera=function(e){n.map.rotateTo(e/150%360,{duration:0}),requestAnimationFrame(n.rotateCamera)},n.onClikItem=function(e){var t=e.boundingbox.map((function(e){return Number(e)}));n.map.fitBounds([[t[2],t[0]],[t[3],t[1]]],{padding:20})},n.handleCreateAccount=function(e,t){n.setState({email:e}),n.setState({password:t})},n.handleLoged=function(e){console.log("LOGED",e),n.setState({loged:e}),n.state.loged?n.map.addControl(n.draw,"top-right"):n.map.removeControl(n.draw)},n.toggleDrawer=function(e,t){return function(e){(!e||"keydown"!==e.type||"Tab"!==e.key&&"Shift"!==e.key)&&n.setState({drawer:t})}},n.state={lng:5,lat:34,zoom:0,points:[],email:"",password:"",loged:!1,drawer:!1},n}return Object(u.a)(a,[{key:"componentDidMount",value:function(){var e=this;this.map=new b.a.Map({container:this.mapContainer,center:[this.props.longitude,this.props.latitude],style:"mapbox://styles/mapbox/streets-v11",zoom:5,pitch:45}),this.draw=new f.a({displayControlsDefault:!1,controls:{point:!0,polygon:!0,trash:!0}}),this.map.addControl(new b.a.NavigationControl),this.map.addControl(new b.a.ScaleControl),this.map.on("load",(function(){e.map.addSource("point",{type:"geojson",data:{type:"FeatureCollection",features:[]}}),e.map.addLayer({id:"points",source:"point",type:"circle",paint:{"circle-radius":20,"circle-color":"red"}})})),this.map.on("move",(function(){e.setState({lng:e.map.getCenter().lng.toFixed(4),lat:e.map.getCenter().lat.toFixed(4),zoom:e.map.getZoom().toFixed(2)})})),this.map.on("draw.create",this.drawLog),this.map.on("draw.delete",this.drawLog),this.map.on("draw.update",this.drawLog)}},{key:"buildBbox",value:function(e){return y.bbox(e)}},{key:"render",value:function(){var e=this;return o.a.createElement("div",null,o.a.createElement("div",{className:"searchStyle"},o.a.createElement(le,{userLoged:this.handleLoged}),o.a.createElement("div",{className:"iconButtonStyle"},o.a.createElement(O.a,{title:"Szukaj",type:"submit",onClick:this.toggleDrawer("left",!0),"aria-label":"search"},o.a.createElement(W.a,null)))),o.a.createElement("div",{className:"fireBaseStyle"}),o.a.createElement("div",{className:"fireBaseStyle"},o.a.createElement(ie.a,{open:this.state.drawer,onClose:this.toggleDrawer("left",!1),onOpen:this.toggleDrawer("left",!0)},o.a.createElement(Y.a,{onClick:this.toggleDrawer("left",!1)},'"X"'),o.a.createElement(z,{onGetMapQuestData:this.getDataFromMapQuest,onGetData:this.getDataFromSearch,onClickItem:this.onClikItem}))),o.a.createElement("div",{ref:function(t){return e.mapContainer=t},className:"mapContainer"}))}}]),a}(o.a.Component),me=function(e){Object(m.a)(a,e);var t=Object(p.a)(a);function a(){var e;Object(i.a)(this,a);for(var n=arguments.length,o=new Array(n),r=0;r<n;r++)o[r]=arguments[r];return(e=t.call.apply(t,[this].concat(o))).state={newSearch:"",geoNames:"",newTask:{id:1,name:""},tasks:[{name:"test4",id:12},{name:"test5",id:15},{name:"test6",id:16},{name:"test7",id:17}]},e.textParam="Administrator",e.deleteTask=function(t){console.log("App.tsx -> ".concat(t.id)),e.setState({tasks:Object(l.a)(e.state.tasks.filter((function(e){return e.id!==t.id})))})},e.addTask=function(t){t.preventDefault(),console.log("Dodaj"),e.setState((function(e){return{newTask:{id:e.newTask.id+1,name:""},tasks:[].concat(Object(l.a)(e.tasks),[e.newTask])}}))},e.onChangeTask=function(t){console.log(t.target.value),e.setState({newTask:Object(c.a)(Object(c.a)({},e.state.newTask),{},{name:t.target.value})})},e}return Object(u.a)(a,[{key:"render",value:function(){return o.a.createElement("div",{className:"App"},o.a.createElement("header",{className:"App-header"},o.a.createElement(ue,{longitude:17,latitude:52})))}}]),a}(o.a.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));s.a.render(o.a.createElement(o.a.StrictMode,null,o.a.createElement(me,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},99:function(e,t,a){}},[[140,1,2]]]);
//# sourceMappingURL=main.1be3db21.chunk.js.map