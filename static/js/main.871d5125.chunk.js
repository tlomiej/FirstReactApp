(this["webpackJsonpmy-app"]=this["webpackJsonpmy-app"]||[]).push([[0],{106:function(e,t,a){},107:function(e,t,a){},147:function(e,t,a){e.exports=a(205)},165:function(e,t,a){},169:function(e,t,a){},205:function(e,t,a){"use strict";a.r(t);var n,r=a(0),o=a.n(r),i=a(12),l=a.n(i),s=a(94),c=a(14),u=a(30),m=a(31),p=a(34),d=a(32),h=a(21),g=a(16),f=a.n(g),y=a(29),b=a(131),v=(a(164),a(118)),E=a(64),w=a.n(E),k=(a(165),a(106),a(107),a(238)),S=a(240),C=a(242),O=a(243),j=a(253),D=a(241),x=a(83),I=a(123),N=a.n(I),L=a(124),B=a.n(L),F=a(122),A=a.n(F),Q=function(e){Object(p.a)(a,e);var t=Object(d.a)(a);function a(){var e;Object(u.a)(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).clickItem=function(){e.props.onClickItem(e.props.item)},e}return Object(m.a)(a,[{key:"render",value:function(){return o.a.createElement("div",null,o.a.createElement(k.a,{className:"root"},o.a.createElement(S.a,{className:"item",onClick:this.clickItem,avatar:o.a.createElement(j.a,{"aria-label":"recipe",className:"avatar"},this.props.item.type.charAt(0).toUpperCase()),action:o.a.createElement(D.a,{"aria-label":"settings"},o.a.createElement(A.a,null)),title:this.props.item.display_name,subheader:this.props.item.type}),o.a.createElement(C.a,null,o.a.createElement(x.a,{variant:"body2",color:"textSecondary",component:"p"},this.props.item.display_name)),o.a.createElement(O.a,{disableSpacing:!0},o.a.createElement(D.a,{"aria-label":"add to favorites"},o.a.createElement(N.a,null)),o.a.createElement(D.a,{"aria-label":"share"},o.a.createElement(B.a,null)))))}}]),a}(o.a.Component),M=a(254),W=function(e){Object(p.a)(a,e);var t=Object(d.a)(a);function a(){var e;Object(u.a)(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).clickItem=function(t){e.props.onClickItem(t)},e}return Object(m.a)(a,[{key:"componentDidUpdate",value:function(){}},{key:"render",value:function(){var e,t=this;return o.a.createElement(M.a,{className:"listBox"},null===(e=this.props.result)||void 0===e?void 0:e.map((function(e,a){return o.a.createElement(Q,{key:a,item:e,onClickItem:t.clickItem})})))}}]),a}(o.a.Component),z=a(125),T=a.n(z),P=a(79),G=a.n(P),J=a(244),R=(a(169),function(e){Object(p.a)(a,e);var t=Object(d.a)(a);function a(e){var n;return Object(u.a)(this,a),(n=t.call(this,e)).onChangeSearch=function(e){n.setState({newSearch:"".concat(e.target.value)})},n.onKeyPressSearch=function(e){"Enter"===e.key&&(n.getData(),n.getMapQuestData())},n.onClick=function(){n.getData(),n.getMapQuestData()},n.state={resultString:"Pusto",result:e.result,mapQuestResult:{results:[{locations:[]}]},onGetData:function(){},onGetMapQuestData:function(){},searchOnProgres:!1,onClickItem:function(){}},n}return Object(m.a)(a,[{key:"componentDidUpdate",value:function(e,t){t.result!==this.state.result&&this.props.onGetData(this.state.result),t.mapQuestResult!==this.state.mapQuestResult&&this.props.onGetMapQuestData(this.state.mapQuestResult)}},{key:"onClickItemChanged",value:function(e){console.log("test",e)}},{key:"componentDidMount",value:function(){console.log("Odlaczony",this.state)}},{key:"componentWillUnmount",value:function(){console.log("Odlaczony??????",this.state)}},{key:"render",value:function(){return o.a.createElement("div",null,o.a.createElement("div",{className:"mainSerachBox"},this.state.searchOnProgres?o.a.createElement(J.a,null):"",o.a.createElement("div",{className:"searchBox"},o.a.createElement(T.a,{className:"searchBoxInput",onChange:this.onChangeSearch,value:this.props.newSearch,onKeyPress:this.onKeyPressSearch,placeholder:"Wyszukaj",inputProps:{"aria-label":"search"}}),o.a.createElement(D.a,{type:"submit",onClick:this.onClick,className:"iconButton","aria-label":"search"},o.a.createElement(G.a,null))),o.a.createElement(W,{result:this.state.result,resultMapQuest:this.state.mapQuestResult,onClickItem:this.props.onClickItem})))}},{key:"getData",value:function(){var e=this;this.setState({searchOnProgres:!0});var t="https://nominatim.openstreetmap.org/?addressdetails=1&q=".concat(this.state.newSearch,"&format=json&limit=10");fetch(t).then((function(e){return e.json()})).then((function(t){e.setState({resultString:JSON.stringify(t)}),e.setState({result:t}),e.setState({searchOnProgres:!1})})).catch((function(t){console.error("Error:",t),e.setState({resultString:JSON.stringify([])}),e.setState({result:[]}),e.setState({searchOnProgres:!1})}))}},{key:"getMapQuestData",value:function(){}}]),a}(o.a.Component)),U=a(130),q=a.n(U),X=a(245),H=a(246),K=a(247),V=a(252),Z=a(248),_=a(82),Y=(a(91),a(200),a(203),a(62)),$=Y.a.initializeApp({apiKey:"AIzaSyBPnakkMCkHQR26zXRstzrBIorHAWo5H3w",authDomain:"geostarapp.firebaseapp.com",databaseURL:"https://geostarapp.firebaseio.com",projectId:"geostarapp",storageBucket:"geostarapp.appspot.com",messagingSenderId:"593481844972",appId:"1:593481844972:web:3d55715029e07c806efdc9",measurementId:"G-MEWLDR8DWF"});!function(e){e.female="female",e.male="male"}(n||(n={}));var ee=Object(X.a)((function(e){return Object(H.a)({root:{flexGrow:1},paperGrid:{padding:e.spacing(4),textAlign:"center",color:e.palette.text.secondary}})}));function te(){var e=Object(_.b)(),t=(e.register,e.handleSubmit),a=e.control,n=ee();return o.a.createElement("form",{onSubmit:t((function(e){console.log(e),$.auth().onAuthStateChanged((function(t){t&&$.firestore().collection("zgloszenia").add({data:e}).then((function(e){console.log("Document written with ID: ",e.id)})).catch((function(e){console.error("Error adding document: ",e)}))}))}))},o.a.createElement(K.a,{className:n.paperGrid,container:!0,spacing:3,direction:"column"},o.a.createElement(_.a,{as:o.a.createElement(V.a,null),name:"title",label:"First Name",control:a,defaultValue:"",required:!0}),o.a.createElement(_.a,{as:o.a.createElement(V.a,null),name:"descryption",label:"Descryption",control:a,defaultValue:"",required:!0}),o.a.createElement(Z.a,{type:"submit",variant:"contained",color:"primary"},"Send")))}var ae=a(19),ne=a(251),re=a(128),oe=a.n(re),ie=a(127),le=a.n(ie),se=a(129),ce=a.n(se),ue=a(250),me=a(126),pe=a.n(me),de=a(249),he=Object(X.a)((function(e){return{paper:{marginTop:e.spacing(8),display:"flex",flexDirection:"column",alignItems:"center"},avatar:{margin:e.spacing(1),backgroundColor:e.palette.secondary.main},form:{width:"100%",marginTop:e.spacing(3)},submit:{margin:e.spacing(3,0,2)}}}));function ge(e){var t=he(),a=Object(r.useState)(""),n=Object(ae.a)(a,2),i=n[0],l=n[1],s=Object(r.useState)(""),c=Object(ae.a)(s,2),u=c[0],m=c[1],p=Object(r.useState)(!1),d=Object(ae.a)(p,2),h=d[0],g=d[1];return o.a.createElement(de.a,{component:"main",maxWidth:"xs"},h?o.a.createElement(J.a,null):"",o.a.createElement(ue.a,null),o.a.createElement("div",{className:t.paper},o.a.createElement(j.a,{className:t.avatar},o.a.createElement(pe.a,null)),o.a.createElement(x.a,{component:"h1",variant:"h5"},e.label),o.a.createElement("form",{className:t.form,noValidate:!0},o.a.createElement(K.a,{container:!0,spacing:2},o.a.createElement(K.a,{item:!0,xs:12},o.a.createElement(V.a,{variant:"outlined",required:!0,fullWidth:!0,id:"email",label:"Email Address",name:"email",autoComplete:"email",value:i,onChange:function(e){return l(e.target.value)}})),o.a.createElement(K.a,{item:!0,xs:12},o.a.createElement(V.a,{variant:"outlined",required:!0,fullWidth:!0,name:"password",label:"Password",type:"password",id:"password",autoComplete:"current-password",value:u,onChange:function(e){return m(e.target.value)}}))),o.a.createElement(Z.a,{fullWidth:!0,variant:"contained",color:"primary",className:t.submit,onClick:function(){g(!0),e.login(i,u)}},"Sign Up"),e.infoMessage)))}function fe(e){var t=o.a.useState(!1),a=Object(ae.a)(t,2),n=a[0],r=a[1],i=o.a.useState(!1),l=Object(ae.a)(i,2),s=l[0],c=l[1],u=o.a.useState(!1),m=Object(ae.a)(u,2),p=m[0],d=m[1],h=o.a.useState({}),g=Object(ae.a)(h,2),f=(g[0],g[1]),y=o.a.useState(""),b=Object(ae.a)(y,2),v=b[0],E=b[1],w=o.a.useState(""),k=Object(ae.a)(w,2),S=k[0],C=k[1];return o.a.createElement("div",null,p?o.a.createElement("div",{className:"iconButtonStyle"},o.a.createElement(D.a,{className:"logout",title:"Log out",type:"submit",onClick:function(){console.log("Wylogowano"),Y.a.auth().signOut().then((function(){d(!1),e.userLoged(!1)})).catch((function(e){console.log("singOut",e)}))},"aria-label":"search"},o.a.createElement(le.a,null))):o.a.createElement("div",{className:"iconButtonStyle"}," ",o.a.createElement(D.a,{className:"login",title:"Login",type:"submit",onClick:function(){r(!0)},"aria-label":"search"},o.a.createElement(oe.a,null))),p?"":o.a.createElement("div",{className:"iconButtonStyle"},o.a.createElement(D.a,{className:"create",title:"Create account",type:"submit",onClick:function(){console.log("nowe konto"),c(!0)},"aria-label":"search"},o.a.createElement(ce.a,null))),o.a.createElement(ne.a,{onClose:function(){r(!1)},open:n},o.a.createElement(ge,{infoMessage:S,label:"Login",login:function(t,a){$.auth().signInWithEmailAndPassword(t,a).then((function(t){console.log(t,t.user,t.credential),f(t),r(!1),d(!0),e.userLoged(!0)})).catch((function(e){C(e.message)}))}})),o.a.createElement(ne.a,{onClose:function(){c(!1)},open:s},o.a.createElement(ge,{infoMessage:v,label:"Sing up",login:function(t,a){console.log("Tworze konto"),Y.a.auth().createUserWithEmailAndPassword(t,a).then((function(t){console.log("Account created",t),c(!1),e.userLoged(!0),d(!0)})).catch((function(e){console.log("Create account",e);e.code;E(e.message)}))}})))}var ye=a(255);w.a.accessToken="pk.eyJ1IjoidGxvbWllaiIsImEiOiJja2cyNm4wY2YwZ2ZkMnlvNWFjdTB3ZWV2In0.Bo-nyJTaJwxOpgDFwIH_9g";var be=function(e){Object(p.a)(a,e);var t=Object(d.a)(a);function a(e){var n;return Object(u.a)(this,a),(n=t.call(this,e)).mapContainer=void 0,n.map=void 0,n.marker=void 0,n.draw=void 0,n.updateAndNotify=function(){console.log("LOGED 222")},n.drawLog=function(){console.log("draw",n.draw.getAll())},n.getDataFromMapQuest=function(e){console.log("getDataFromMapQuest =>",e);var t=e.results[0].locations.map((function(e){return{type:"Feature",geometry:{type:"Point",coordinates:[parseFloat(e.latLng.lng),parseFloat(e.latLng.lat)]}}})),a={type:"FeatureCollection",features:[]};a.features=t,n.map.getSource("mapQuestLayer")||(n.map.addSource("mapQuestLayer",{type:"geojson",data:{type:"FeatureCollection",features:[]}}),n.map.addLayer({id:"mapQuestLayerId",source:"mapQuestLayer",type:"circle",paint:{"circle-radius":10,"circle-color":"blue"}})),n.map.getSource("mapQuestLayer").setData(a)},n.getDataFromSearch=function(){var e=Object(y.a)(f.a.mark((function e(t){var a,r,o;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n.setState({searchBackup:t}),console.log("getDataFromSearch =>",t),a=t.map((function(e){return{type:"Feature",geometry:{type:"Point",coordinates:[parseFloat(e.lon),parseFloat(e.lat)]}}})),console.log("GEoJson",a),n.setState({points:a}),(r={type:"FeatureCollection",features:[]}).features=a,n.map.getSource("point")||(n.map.addSource("point",{type:"geojson",data:{type:"FeatureCollection",features:[]}}),n.map.addLayer({id:"points",source:"point",type:"circle",paint:{"circle-radius":20,"circle-color":"red"}})),n.map.getSource("point").setData(r),o=n.buildBbox(r),e.next=12,n.map.fitBounds([[o[0],o[1]],[o[2],o[3]]]);case 12:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),n.rotateCamera=function(e){n.map.rotateTo(e/150%360,{duration:0}),requestAnimationFrame(n.rotateCamera)},n.onClikItem=function(e){var t=e.boundingbox.map((function(e){return Number(e)}));n.map.fitBounds([[t[2],t[0]],[t[3],t[1]]],{padding:20})},n.handleCreateAccount=function(e,t){n.setState({email:e}),n.setState({password:t})},n.handleLoged=function(e){console.log("LOGED",e),n.setState({loged:e}),n.state.loged?n.map.addControl(n.draw,"top-right"):n.map.removeControl(n.draw)},n.toggleDrawer=function(e,t){return function(e){(!e||"keydown"!==e.type||"Tab"!==e.key&&"Shift"!==e.key)&&n.setState({drawer:t})}},n.drawerWidth=240,n.toggleDrawerEdit=function(e,t){return function(e){(!e||"keydown"!==e.type||"Tab"!==e.key&&"Shift"!==e.key)&&n.setState({drawerEdit:t})}},n.styles=function(e){var t;return{drawer:(t={position:"absolute",overflowX:"hidden",zIndex:e.zIndex.drawer+2},Object(h.a)(t,e.breakpoints.up("sm"),{position:"relative",width:n.drawerWidth,flexShrink:0,zIndex:e.zIndex.drawer}),Object(h.a)(t,"whiteSpace","nowrap"),t),drawerOpen:{width:n.drawerWidth,background:"red",transition:e.transitions.create("width",{easing:e.transitions.easing.sharp,duration:e.transitions.duration.enteringScreen})},drawerClose:Object(h.a)({transition:e.transitions.create("width",{easing:e.transitions.easing.sharp,duration:e.transitions.duration.leavingScreen}),overflowX:"hidden",width:0},e.breakpoints.up("sm"),{width:9*e.spacing.unit+1})}},n.state={lng:5,lat:34,zoom:0,points:[],email:"",password:"",loged:!1,drawer:!1,drawerEdit:!1,searchBackup:[]},n}return Object(m.a)(a,[{key:"componentDidMount",value:function(){var e=this;this.map=new w.a.Map({container:this.mapContainer,center:[this.props.longitude,this.props.latitude],style:"mapbox://styles/mapbox/streets-v11",zoom:5,pitch:45}),this.draw=new b.a({displayControlsDefault:!1,controls:{point:!0,polygon:!0,trash:!0}}),this.map.addControl(new w.a.NavigationControl),this.map.addControl(new w.a.ScaleControl),this.map.on("load",(function(){e.map.addSource("point",{type:"geojson",data:{type:"FeatureCollection",features:[]}}),e.map.addLayer({id:"points",source:"point",type:"circle",paint:{"circle-radius":20,"circle-color":"red"}})})),this.map.on("move",(function(){e.setState({lng:e.map.getCenter().lng.toFixed(4),lat:e.map.getCenter().lat.toFixed(4),zoom:e.map.getZoom().toFixed(2)})})),this.map.on("draw.create",this.drawLog),this.map.on("draw.delete",this.drawLog),this.map.on("draw.update",this.drawLog)}},{key:"buildBbox",value:function(e){return v.bbox(e)}},{key:"render",value:function(){var e=this;return o.a.createElement("div",null,o.a.createElement("div",{className:"searchStyle"},o.a.createElement(fe,{userLoged:this.handleLoged}),o.a.createElement("div",{className:"iconButtonStyle"},o.a.createElement(D.a,{title:"Szukaj",type:"submit",onClick:this.toggleDrawer("left",!0),"aria-label":"search"},o.a.createElement(G.a,null))),o.a.createElement("div",{className:"iconButtonStyle"},o.a.createElement(D.a,{title:"Dodaj",type:"submit",onClick:this.toggleDrawerEdit("left",!0),"aria-label":"search"},o.a.createElement(q.a,null)))),o.a.createElement("div",{className:"fireBaseStyle"}),o.a.createElement(ye.a,{open:this.state.drawer,onClose:this.toggleDrawer("left",!1)},o.a.createElement(Z.a,{onClick:this.toggleDrawer("left",!1)},'"X"'),o.a.createElement(R,{result:this.state.searchBackup,onGetMapQuestData:this.getDataFromMapQuest,onGetData:this.getDataFromSearch,onClickItem:this.onClikItem})),o.a.createElement(ye.a,{open:this.state.drawerEdit,onClose:this.toggleDrawer("left",!1)},o.a.createElement(Z.a,{onClick:this.toggleDrawerEdit("left",!1)},'"X"'),o.a.createElement(te,null)),o.a.createElement("div",{ref:function(t){return e.mapContainer=t},className:"mapContainer"}))}}]),a}(o.a.Component),ve=function(e){Object(p.a)(a,e);var t=Object(d.a)(a);function a(){var e;Object(u.a)(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).state={newSearch:"",geoNames:"",newTask:{id:1,name:""},tasks:[{name:"test4",id:12},{name:"test5",id:15},{name:"test6",id:16},{name:"test7",id:17}]},e.textParam="Administrator",e.deleteTask=function(t){console.log("App.tsx -> ".concat(t.id)),e.setState({tasks:Object(c.a)(e.state.tasks.filter((function(e){return e.id!==t.id})))})},e.addTask=function(t){t.preventDefault(),console.log("Dodaj"),e.setState((function(e){return{newTask:{id:e.newTask.id+1,name:""},tasks:[].concat(Object(c.a)(e.tasks),[e.newTask])}}))},e.onChangeTask=function(t){console.log(t.target.value),e.setState({newTask:Object(s.a)(Object(s.a)({},e.state.newTask),{},{name:t.target.value})})},e}return Object(m.a)(a,[{key:"render",value:function(){return o.a.createElement("div",{className:"App"},o.a.createElement("header",{className:"App-header"},o.a.createElement(be,{longitude:17,latitude:52})))}}]),a}(o.a.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));l.a.render(o.a.createElement(o.a.StrictMode,null,o.a.createElement(ve,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[147,1,2]]]);
//# sourceMappingURL=main.871d5125.chunk.js.map