(this["webpackJsonpmy-app"]=this["webpackJsonpmy-app"]||[]).push([[0],{101:function(e,t,a){},102:function(e,t,a){},143:function(e,t,a){e.exports=a(197)},161:function(e,t,a){},165:function(e,t,a){},197:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),o=a(10),i=a.n(o),s=a(87),l=a(12),c=a(27),u=a(28),m=a(31),p=a(29),d=a(19),h=a(14),g=a.n(h),f=a(26),y=a(126),v=(a(160),a(113)),b=a(61),E=a.n(b),w=(a(161),a(101),a(102),a(229)),k=a(231),S=a(233),C=a(234),O=a(243),j=a(232),D=a(77),x=a(118),I=a.n(x),N=a(119),L=a.n(N),B=a(117),F=a.n(B),Q=function(e){Object(m.a)(a,e);var t=Object(p.a)(a);function a(){var e;Object(c.a)(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).clickItem=function(){e.props.onClickItem(e.props.item)},e}return Object(u.a)(a,[{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement(w.a,{className:"root"},r.a.createElement(k.a,{className:"item",onClick:this.clickItem,avatar:r.a.createElement(O.a,{"aria-label":"recipe",className:"avatar"},this.props.item.type.charAt(0).toUpperCase()),action:r.a.createElement(j.a,{"aria-label":"settings"},r.a.createElement(F.a,null)),title:this.props.item.display_name,subheader:this.props.item.type}),r.a.createElement(S.a,null,r.a.createElement(D.a,{variant:"body2",color:"textSecondary",component:"p"},this.props.item.display_name)),r.a.createElement(C.a,{disableSpacing:!0},r.a.createElement(j.a,{"aria-label":"add to favorites"},r.a.createElement(I.a,null)),r.a.createElement(j.a,{"aria-label":"share"},r.a.createElement(L.a,null)))))}}]),a}(r.a.Component),M=a(244),W=function(e){Object(m.a)(a,e);var t=Object(p.a)(a);function a(){var e;Object(c.a)(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).clickItem=function(t){e.props.onClickItem(t)},e}return Object(u.a)(a,[{key:"componentDidUpdate",value:function(){}},{key:"render",value:function(){var e,t=this;return r.a.createElement(M.a,{className:"listBox"},null===(e=this.props.result)||void 0===e?void 0:e.map((function(e,a){return r.a.createElement(Q,{key:a,item:e,onClickItem:t.clickItem})})))}}]),a}(r.a.Component),A=a(120),T=a.n(A),P=a(74),z=a.n(P),G=a(235),R=(a(165),function(e){Object(m.a)(a,e);var t=Object(p.a)(a);function a(e){var n;return Object(c.a)(this,a),(n=t.call(this,e)).onChangeSearch=function(e){n.setState({newSearch:"".concat(e.target.value)})},n.onKeyPressSearch=function(e){"Enter"===e.key&&(n.getData(),n.getMapQuestData())},n.onClick=function(){n.getData(),n.getMapQuestData()},n.state={resultString:"Pusto",result:e.result,mapQuestResult:{results:[{locations:[]}]},onGetData:function(){},onGetMapQuestData:function(){},searchOnProgres:!1,onClickItem:function(){}},n}return Object(u.a)(a,[{key:"componentDidUpdate",value:function(e,t){t.result!==this.state.result&&this.props.onGetData(this.state.result),t.mapQuestResult!==this.state.mapQuestResult&&this.props.onGetMapQuestData(this.state.mapQuestResult)}},{key:"onClickItemChanged",value:function(e){console.log("test",e)}},{key:"componentDidMount",value:function(){console.log("Odlaczony",this.state)}},{key:"componentWillUnmount",value:function(){console.log("Odlaczony??????",this.state)}},{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement("div",{className:"mainSerachBox"},this.state.searchOnProgres?r.a.createElement(G.a,null):"",r.a.createElement("div",{className:"searchBox"},r.a.createElement(T.a,{className:"searchBoxInput",onChange:this.onChangeSearch,value:this.props.newSearch,onKeyPress:this.onKeyPressSearch,placeholder:"Wyszukaj",inputProps:{"aria-label":"search"}}),r.a.createElement(j.a,{type:"submit",onClick:this.onClick,className:"iconButton","aria-label":"search"},r.a.createElement(z.a,null))),r.a.createElement(W,{result:this.state.result,resultMapQuest:this.state.mapQuestResult,onClickItem:this.props.onClickItem})))}},{key:"getData",value:function(){var e=this;this.setState({searchOnProgres:!0});var t="https://nominatim.openstreetmap.org/?addressdetails=1&q=".concat(this.state.newSearch,"&format=json&limit=10");fetch(t).then((function(e){return e.json()})).then((function(t){e.setState({resultString:JSON.stringify(t)}),e.setState({result:t}),e.setState({searchOnProgres:!1})})).catch((function(t){console.error("Error:",t),e.setState({resultString:JSON.stringify([])}),e.setState({result:[]}),e.setState({searchOnProgres:!1})}))}},{key:"getMapQuestData",value:function(){}}]),a}(r.a.Component)),J=a(125),q=a.n(J),U=a(127);function X(){var e=Object(U.a)(),t=e.register,a=e.handleSubmit,n=e.watch,o=e.errors;return console.log(n("example")),r.a.createElement("form",{onSubmit:a((function(e){return console.log(e)}))},r.a.createElement("input",{name:"example",defaultValue:"test",ref:t}),r.a.createElement("input",{name:"exampleRequired",ref:t({required:!0})}),o.exampleRequired&&r.a.createElement("span",null,"This field is required"),r.a.createElement("input",{type:"submit"}))}var H=a(17),K=a(241),Z=a(59),V=(a(195),Z.a.initializeApp({apiKey:"AIzaSyBPnakkMCkHQR26zXRstzrBIorHAWo5H3w",authDomain:"geostarapp.firebaseapp.com",databaseURL:"https://geostarapp.firebaseio.com",projectId:"geostarapp",storageBucket:"geostarapp.appspot.com",messagingSenderId:"593481844972",appId:"1:593481844972:web:3d55715029e07c806efdc9",measurementId:"G-MEWLDR8DWF"})),_=a(123),Y=a.n(_),$=a(122),ee=a.n($),te=a(124),ae=a.n(te),ne=a(240),re=a(238),oe=a(242),ie=a(239),se=a(121),le=a.n(se),ce=a(236),ue=a(237),me=Object(ce.a)((function(e){return{paper:{marginTop:e.spacing(8),display:"flex",flexDirection:"column",alignItems:"center"},avatar:{margin:e.spacing(1),backgroundColor:e.palette.secondary.main},form:{width:"100%",marginTop:e.spacing(3)},submit:{margin:e.spacing(3,0,2)}}}));function pe(e){var t=me(),a=Object(n.useState)(""),o=Object(H.a)(a,2),i=o[0],s=o[1],l=Object(n.useState)(""),c=Object(H.a)(l,2),u=c[0],m=c[1],p=Object(n.useState)(!1),d=Object(H.a)(p,2),h=d[0],g=d[1];return r.a.createElement(ue.a,{component:"main",maxWidth:"xs"},h?r.a.createElement(G.a,null):"",r.a.createElement(re.a,null),r.a.createElement("div",{className:t.paper},r.a.createElement(O.a,{className:t.avatar},r.a.createElement(le.a,null)),r.a.createElement(D.a,{component:"h1",variant:"h5"},e.label),r.a.createElement("form",{className:t.form,noValidate:!0},r.a.createElement(ie.a,{container:!0,spacing:2},r.a.createElement(ie.a,{item:!0,xs:12},r.a.createElement(oe.a,{variant:"outlined",required:!0,fullWidth:!0,id:"email",label:"Email Address",name:"email",autoComplete:"email",value:i,onChange:function(e){return s(e.target.value)}})),r.a.createElement(ie.a,{item:!0,xs:12},r.a.createElement(oe.a,{variant:"outlined",required:!0,fullWidth:!0,name:"password",label:"Password",type:"password",id:"password",autoComplete:"current-password",value:u,onChange:function(e){return m(e.target.value)}}))),r.a.createElement(ne.a,{fullWidth:!0,variant:"contained",color:"primary",className:t.submit,onClick:function(){g(!0),e.login(i,u)}},"Sign Up"),e.infoMessage)))}function de(e){var t=r.a.useState(!1),a=Object(H.a)(t,2),n=a[0],o=a[1],i=r.a.useState(!1),s=Object(H.a)(i,2),l=s[0],c=s[1],u=r.a.useState(!1),m=Object(H.a)(u,2),p=m[0],d=m[1],h=r.a.useState({}),g=Object(H.a)(h,2),f=(g[0],g[1]),y=r.a.useState(""),v=Object(H.a)(y,2),b=v[0],E=v[1],w=r.a.useState(""),k=Object(H.a)(w,2),S=k[0],C=k[1];return r.a.createElement("div",null,p?r.a.createElement("div",{className:"iconButtonStyle"},r.a.createElement(j.a,{className:"logout",title:"Log out",type:"submit",onClick:function(){console.log("Wylogowano"),Z.a.auth().signOut().then((function(){d(!1),e.userLoged(!1)})).catch((function(e){console.log("singOut",e)}))},"aria-label":"search"},r.a.createElement(ee.a,null))):r.a.createElement("div",{className:"iconButtonStyle"}," ",r.a.createElement(j.a,{className:"login",title:"Login",type:"submit",onClick:function(){o(!0)},"aria-label":"search"},r.a.createElement(Y.a,null))),p?"":r.a.createElement("div",{className:"iconButtonStyle"},r.a.createElement(j.a,{className:"create",title:"Create account",type:"submit",onClick:function(){console.log("nowe konto"),c(!0)},"aria-label":"search"},r.a.createElement(ae.a,null))),r.a.createElement(K.a,{onClose:function(){o(!1)},open:n},r.a.createElement(pe,{infoMessage:S,label:"Login",login:function(t,a){V.auth().signInWithEmailAndPassword(t,a).then((function(t){console.log(t,t.user,t.credential),f(t),o(!1),d(!0),e.userLoged(!0)})).catch((function(e){C(e.message)}))}})),r.a.createElement(K.a,{onClose:function(){c(!1)},open:l},r.a.createElement(pe,{infoMessage:b,label:"Sing up",login:function(t,a){console.log("Tworze konto"),Z.a.auth().createUserWithEmailAndPassword(t,a).then((function(t){console.log("Account created",t),c(!1),e.userLoged(!0),d(!0)})).catch((function(e){console.log("Create account",e);e.code;E(e.message)}))}})))}var he=a(245);E.a.accessToken="pk.eyJ1IjoidGxvbWllaiIsImEiOiJja2cyNm4wY2YwZ2ZkMnlvNWFjdTB3ZWV2In0.Bo-nyJTaJwxOpgDFwIH_9g";var ge=function(e){Object(m.a)(a,e);var t=Object(p.a)(a);function a(e){var n;return Object(c.a)(this,a),(n=t.call(this,e)).mapContainer=void 0,n.map=void 0,n.marker=void 0,n.draw=void 0,n.updateAndNotify=function(){console.log("LOGED 222")},n.drawLog=function(){console.log("draw",n.draw.getAll())},n.getDataFromMapQuest=function(e){console.log("getDataFromMapQuest =>",e);var t=e.results[0].locations.map((function(e){return{type:"Feature",geometry:{type:"Point",coordinates:[parseFloat(e.latLng.lng),parseFloat(e.latLng.lat)]}}})),a={type:"FeatureCollection",features:[]};a.features=t,n.map.getSource("mapQuestLayer")||(n.map.addSource("mapQuestLayer",{type:"geojson",data:{type:"FeatureCollection",features:[]}}),n.map.addLayer({id:"mapQuestLayerId",source:"mapQuestLayer",type:"circle",paint:{"circle-radius":10,"circle-color":"blue"}})),n.map.getSource("mapQuestLayer").setData(a)},n.getDataFromSearch=function(){var e=Object(f.a)(g.a.mark((function e(t){var a,r,o;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n.setState({searchBackup:t}),console.log("getDataFromSearch =>",t),a=t.map((function(e){return{type:"Feature",geometry:{type:"Point",coordinates:[parseFloat(e.lon),parseFloat(e.lat)]}}})),console.log("GEoJson",a),n.setState({points:a}),(r={type:"FeatureCollection",features:[]}).features=a,n.map.getSource("point")||(n.map.addSource("point",{type:"geojson",data:{type:"FeatureCollection",features:[]}}),n.map.addLayer({id:"points",source:"point",type:"circle",paint:{"circle-radius":20,"circle-color":"red"}})),n.map.getSource("point").setData(r),o=n.buildBbox(r),e.next=12,n.map.fitBounds([[o[0],o[1]],[o[2],o[3]]]);case 12:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),n.rotateCamera=function(e){n.map.rotateTo(e/150%360,{duration:0}),requestAnimationFrame(n.rotateCamera)},n.onClikItem=function(e){var t=e.boundingbox.map((function(e){return Number(e)}));n.map.fitBounds([[t[2],t[0]],[t[3],t[1]]],{padding:20})},n.handleCreateAccount=function(e,t){n.setState({email:e}),n.setState({password:t})},n.handleLoged=function(e){console.log("LOGED",e),n.setState({loged:e}),n.state.loged?n.map.addControl(n.draw,"top-right"):n.map.removeControl(n.draw)},n.toggleDrawer=function(e,t){return function(e){(!e||"keydown"!==e.type||"Tab"!==e.key&&"Shift"!==e.key)&&n.setState({drawer:t})}},n.drawerWidth=240,n.toggleDrawerEdit=function(e,t){return function(e){(!e||"keydown"!==e.type||"Tab"!==e.key&&"Shift"!==e.key)&&n.setState({drawerEdit:t})}},n.styles=function(e){var t;return{drawer:(t={position:"absolute",overflowX:"hidden",zIndex:e.zIndex.drawer+2},Object(d.a)(t,e.breakpoints.up("sm"),{position:"relative",width:n.drawerWidth,flexShrink:0,zIndex:e.zIndex.drawer}),Object(d.a)(t,"whiteSpace","nowrap"),t),drawerOpen:{width:n.drawerWidth,background:"red",transition:e.transitions.create("width",{easing:e.transitions.easing.sharp,duration:e.transitions.duration.enteringScreen})},drawerClose:Object(d.a)({transition:e.transitions.create("width",{easing:e.transitions.easing.sharp,duration:e.transitions.duration.leavingScreen}),overflowX:"hidden",width:0},e.breakpoints.up("sm"),{width:9*e.spacing.unit+1})}},n.state={lng:5,lat:34,zoom:0,points:[],email:"",password:"",loged:!1,drawer:!1,drawerEdit:!1,searchBackup:[]},n}return Object(u.a)(a,[{key:"componentDidMount",value:function(){var e=this;this.map=new E.a.Map({container:this.mapContainer,center:[this.props.longitude,this.props.latitude],style:"mapbox://styles/mapbox/streets-v11",zoom:5,pitch:45}),this.draw=new y.a({displayControlsDefault:!1,controls:{point:!0,polygon:!0,trash:!0}}),this.map.addControl(new E.a.NavigationControl),this.map.addControl(new E.a.ScaleControl),this.map.on("load",(function(){e.map.addSource("point",{type:"geojson",data:{type:"FeatureCollection",features:[]}}),e.map.addLayer({id:"points",source:"point",type:"circle",paint:{"circle-radius":20,"circle-color":"red"}})})),this.map.on("move",(function(){e.setState({lng:e.map.getCenter().lng.toFixed(4),lat:e.map.getCenter().lat.toFixed(4),zoom:e.map.getZoom().toFixed(2)})})),this.map.on("draw.create",this.drawLog),this.map.on("draw.delete",this.drawLog),this.map.on("draw.update",this.drawLog)}},{key:"buildBbox",value:function(e){return v.bbox(e)}},{key:"render",value:function(){var e=this;return r.a.createElement("div",null,r.a.createElement("div",{className:"searchStyle"},r.a.createElement(de,{userLoged:this.handleLoged}),r.a.createElement("div",{className:"iconButtonStyle"},r.a.createElement(j.a,{title:"Szukaj",type:"submit",onClick:this.toggleDrawer("left",!0),"aria-label":"search"},r.a.createElement(z.a,null))),r.a.createElement("div",{className:"iconButtonStyle"},r.a.createElement(j.a,{title:"Dodaj",type:"submit",onClick:this.toggleDrawerEdit("left",!0),"aria-label":"search"},r.a.createElement(q.a,null)))),r.a.createElement("div",{className:"fireBaseStyle"}),r.a.createElement(he.a,{open:this.state.drawer,onClose:this.toggleDrawer("left",!1)},r.a.createElement(ne.a,{onClick:this.toggleDrawer("left",!1)},'"X"'),r.a.createElement(R,{result:this.state.searchBackup,onGetMapQuestData:this.getDataFromMapQuest,onGetData:this.getDataFromSearch,onClickItem:this.onClikItem})),r.a.createElement(he.a,{open:this.state.drawerEdit,onClose:this.toggleDrawer("left",!1)},r.a.createElement(ne.a,{onClick:this.toggleDrawerEdit("left",!1)},'"X"'),r.a.createElement(X,null)),r.a.createElement("div",{ref:function(t){return e.mapContainer=t},className:"mapContainer"}))}}]),a}(r.a.Component),fe=function(e){Object(m.a)(a,e);var t=Object(p.a)(a);function a(){var e;Object(c.a)(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).state={newSearch:"",geoNames:"",newTask:{id:1,name:""},tasks:[{name:"test4",id:12},{name:"test5",id:15},{name:"test6",id:16},{name:"test7",id:17}]},e.textParam="Administrator",e.deleteTask=function(t){console.log("App.tsx -> ".concat(t.id)),e.setState({tasks:Object(l.a)(e.state.tasks.filter((function(e){return e.id!==t.id})))})},e.addTask=function(t){t.preventDefault(),console.log("Dodaj"),e.setState((function(e){return{newTask:{id:e.newTask.id+1,name:""},tasks:[].concat(Object(l.a)(e.tasks),[e.newTask])}}))},e.onChangeTask=function(t){console.log(t.target.value),e.setState({newTask:Object(s.a)(Object(s.a)({},e.state.newTask),{},{name:t.target.value})})},e}return Object(u.a)(a,[{key:"render",value:function(){return r.a.createElement("div",{className:"App"},r.a.createElement("header",{className:"App-header"},r.a.createElement(ge,{longitude:17,latitude:52})))}}]),a}(r.a.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(fe,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[143,1,2]]]);
//# sourceMappingURL=main.c3408061.chunk.js.map